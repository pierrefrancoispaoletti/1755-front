(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{176:function(e,t,c){},202:function(e,t,c){},203:function(e,t,c){},205:function(e,t,c){},206:function(e,t,c){},207:function(e,t,c){},208:function(e,t,c){},209:function(e,t,c){},211:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(62),s=c.n(n),o=(c(176),c(11)),r=c(24),i=c.n(r),l=c(12),u=c(229),d=c(231),j=c(224),b=c(10),g=c(97),p=c(14),m=c(13),O=c(223),h=c(232),f=c(234),x=c(1),y=function(e){var t=e.visible,c=e._id,a=e.choice,n=e.product,s=e.handleDeleteProduct,o=e.handleChangeChoice,r=e.handleChangeVisibility,i=e.setSelectedProduct,l=e.setOpenEditProductModal,u=e.setOpenUpdateImageModal;return Object(x.jsxs)("div",{className:"adminbuttons",children:[Object(x.jsx)(h.a,{circular:!0,icon:"remove",size:"large",color:"red",onClick:function(){return s(c)}}),Object(x.jsx)(h.a,{circular:!0,icon:"edit",size:"large",color:"purple",onClick:function(){i(n),l(!0)}}),Object(x.jsx)(h.a,{circular:!0,icon:t?"hide":"unhide",size:"large",onClick:function(){return r(n)}}),Object(x.jsx)(h.a,{circular:!0,icon:"heart",size:"large",color:a?"red":"grey",onClick:function(){return o(n)}}),Object(x.jsx)(h.a,{circular:!0,icon:"image",size:"large",color:"yellow",onClick:function(){i(n),u(!0)}})]})},v=(c(202),function(e){var t=e.product,c=(e._id,e.name),a=e.type,n=e.region,s=e.description,o=e.price,r=e.category,i=(e.subCategory,e.choice),l=e.visible,u=e.image,d=e.user,j=e.setOpenImageModal,b=e.setSelectedProduct;return Object(x.jsxs)("div",{className:"productitem",style:{display:l||d?"":"none"},children:[Object(x.jsxs)("div",{className:"productitem-header",children:[Object(x.jsxs)(f.a,{as:"h3",style:"vins"===a&&"rouges"===r?{color:"darkred"}:"vins"===a&&"roses"===r?{color:"#fec5d9"}:"vins"===a&&"blancs"===r?{color:"#f1f285"}:{color:""},children:[l?"":"Cach\xe9 : ",c,u&&Object(x.jsx)(m.a,{style:{color:"white",margin:8},icon:p.m,onClick:function(){b(t),j(!0)}}),i?Object(x.jsx)(m.a,{icon:p.j,style:{"--fa-primary-color":"darkred","--fa-secondary-color":"transparent"},size:"2x"}):""]}),Object(x.jsxs)("span",{className:"price",children:[o.toFixed(2),Object(x.jsx)("small",{children:"\u20ac"})]})]}),Object(x.jsx)("div",{className:"region",children:n}),Object(x.jsx)("p",{className:"description",children:s})]})}),C=c(227),M=c(226),k=function(e){var t=e.subCategories,c=e.activeMenu,a=e.setActiveMenu,n=e.setDropdownValue;return Object(x.jsx)(C.a,{compact:!0,borderless:!0,icon:"labeled",className:"categories-menu",children:t.map((function(e){return Object(x.jsx)(x.Fragment,{children:e.subCat?Object(x.jsx)(M.a,{className:"categories-dropdown",item:!0,icon:e.icon,text:e.name,onClick:function(){return a(e.slug)},children:Object(x.jsx)(M.a.Menu,{children:e.subCat.map((function(e){return Object(x.jsx)(M.a.Item,{onClick:function(t){return n(e.slug)},children:e.name},e.slug)}))})},e.slug):Object(x.jsxs)(C.a.Item,{className:"menu-items",active:c===e.slug,onClick:function(){return a(e.slug)},children:[Object(x.jsx)(C.a.Header,{children:e.icon}),e.name]},e.slug)})}))})},P="https://le-1755.herokuapp.com",S=(c(203),function(e){var t=e.selectedCategory,c=e.products,n=e.user,s=e.setOpenAddProductModal,r=e.setProducts,u=e.setOpenLoginModal,d=e.setSelectedProduct,C=e.setOpenEditProductModal,M=e.setOpenImageModal,S=e.setOpenUpdateImageModal,A=Object(l.f)(),I=t.name,z=t.subCategories,F=Object(a.useState)(""),w=Object(o.a)(F,2),N=w[0],L=w[1],E=Object(a.useState)(""),B=Object(o.a)(E,2),V=B[0],_=B[1],D=Object(a.useState)([]),U=Object(o.a)(D,2),R=U[0],q=U[1],T=Object(a.useState)(!0),H=Object(o.a)(T,2),J=(H[0],H[1]);Object(a.useEffect)((function(){q([]),q(null===c||void 0===c?void 0:c.filter((function(e){return e.type===t.slug})))}),[A]),Object(a.useEffect)((function(){q([]),q(null===c||void 0===c?void 0:c.filter((function(e){return e.type===A.categorie})))}),[c]),Object(a.useEffect)((function(){q([]),q(null===c||void 0===c?void 0:c.filter((function(e){return e.category===N})))}),[N]),Object(a.useEffect)((function(){q([]),q(null===c||void 0===c?void 0:c.filter((function(e){return e.category===N})))}),[c]),Object(a.useEffect)((function(){q([]),q(null===c||void 0===c?void 0:c.filter((function(e){return e.subCategory===V})))}),[V]);var G=localStorage.getItem("token-1755"),W=function(e){G?(J(!0),i()({method:"delete",url:"".concat(P,"/api/products/deleteProduct"),data:{productId:e},headers:{Authorization:"Bearer "+G}}).then((function(e){return r(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return J(!1)}))):u(!0)},Y=function(e){e.image;var t=Object(g.a)(e,["image"]);t.visible=!e.visible,G?(J(!0),i()({method:"post",url:"".concat(P,"/api/products/updateProduct"),data:{update:t,productId:e._id},headers:{Authorization:"Bearer "+G}}).then((function(e){return r(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return J(!1)}))):u(!0)},K=function(e){e.image;var t=Object(g.a)(e,["image"]);t.choice=!e.choice,G?(J(!0),i()({method:"post",url:"".concat(P,"/api/products/updateProduct"),data:{update:t,productId:e._id},headers:{Authorization:"Bearer "+G}}).then((function(e){return r(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return J(!1)}))):u(!0)};return Object(x.jsxs)(O.a,{className:"categories",children:[n&&Object(x.jsx)("div",{children:Object(x.jsx)(h.a,{color:"green",circular:!0,size:"medium",onClick:function(){return s(!0)},children:Object(x.jsx)(m.a,{icon:p.l,size:"2x"})})}),Object(x.jsx)(f.a,{className:"categories-header",as:"h2",children:I}),Object(x.jsx)(f.a,{className:"categories-subheader",as:"h3"}),z&&Object(x.jsx)(k,{subCategories:z,activeMenu:N,setActiveMenu:L,setDropdownValue:_}),Object(x.jsx)(j.a,{}),Object(x.jsx)("div",{className:"products",children:null===R||void 0===R?void 0:R.sort((function(e,t){return(e.choice===t.choice?0:e.choice?-1:1)||e.price-t.price})).map((function(e){return Object(x.jsxs)(x.Fragment,{children:[n&&Object(x.jsx)(y,Object(b.a)(Object(b.a)({},e),{},{product:e,handleDeleteProduct:W,handleChangeVisibility:Y,handleChangeChoice:K,setSelectedProduct:d,setOpenEditProductModal:C,setOpenUpdateImageModal:S})),Object(x.jsx)(v,Object(b.a)(Object(b.a)({product:e},e),{},{user:n,setOpenImageModal:M,setSelectedProduct:d}),e._id)]})}))}),Object(x.jsx)(j.a,{}),z&&R.length>3&&Object(x.jsx)(k,{subCategories:z,activeMenu:N,setActiveMenu:L,setDropdownValue:_})]})}),A=(c(205),function(){return Object(x.jsxs)(O.a,{children:[Object(x.jsx)(f.a,{className:"home-header",as:"h1",children:"Bienvenue au 1755..."}),Object(x.jsxs)(O.a,{text:!0,className:"home-presentation",children:[Object(x.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eum aut odit iure hic laboriosam molestias saepe consequatur possimus at doloremque laudantium recusandae cum earum, tenetur incidunt veritatis fuga dicta numquam qui id officiis sit nemo? Sapiente, numquam ab. Molestiae quidem dolores, alias iste voluptatibus maxime impedit consectetur sed eum natus."}),Object(x.jsx)("span",{children:"Christophe"})]})]})}),I=c(230),z=c(91),F=c(228),w=c(225),N=[{name:"Les Vins",slug:"vins",icon:Object(x.jsx)(m.a,{icon:p.o,size:"4x",style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}}),subCategories:[{name:"Vins Rouges",slug:"rouges",icon:Object(x.jsx)(m.a,{size:"3x",icon:p.o,style:{"--fa-primary-color":"darkred"}}),subCat:[{name:"Vins Corses",slug:"corses"},{name:"Mill\xe9simes",slug:"millesimes"},{name:"Magnums",slug:"magnums"},{name:"Bordeaux",slug:"bordeaux"},{name:"Bourgognes",slug:"bourgognes"},{name:"D\xe9couverte",slug:"decouverte"},{name:"Vins du Monde",slug:"monde"}]},{name:"Vins Ros\xe9s",slug:"roses",icon:Object(x.jsx)(m.a,{size:"3x",icon:p.o,style:{"--fa-primary-color":"#fec5d9"}})},{name:"Vins Blancs",slug:"blancs",icon:Object(x.jsx)(m.a,{size:"3x",icon:p.o,style:{"--fa-primary-color":"#f1f285"}})},{name:"Champagnes",slug:"champagnes",icon:Object(x.jsx)(m.a,{size:"3x",icon:p.e,style:{"--fa-secondary-color":"#f1f285"}})}]},{name:"Les Bi\xe8res",slug:"bieres",icon:Object(x.jsx)(m.a,{size:"4x",icon:p.b,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})},{name:"Les Alcools",slug:"alcools",icon:Object(x.jsx)(m.a,{size:"4x",icon:p.g,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}}),subCategories:[{name:"Les Classiques",slug:"classiques",icon:Object(x.jsx)(m.a,{size:"3x",icon:p.g,style:{"--fa-primary-color":"#f1f285"}})},{name:"Les Premiums",slug:"premiums",icon:Object(x.jsx)(m.a,{size:"3x",icon:p.g,style:{"--fa-primary-color":"#f1f285"}}),subCat:[{name:"Rhum",slug:"rhum"},{name:"Gin",slug:"gin"},{name:"Whisky",slug:"whisky"},{name:"Vodka",slug:"vodka"}]}]},{name:"Les Cocktails",slug:"cocktails",icon:Object(x.jsx)(m.a,{size:"4x",icon:p.c,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})},{name:"Les Softs",slug:"softs",icon:Object(x.jsx)(m.a,{size:"4x",icon:p.f,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})},{name:"La Cuisine",slug:"cuisine",icon:Object(x.jsx)(m.a,{size:"4x",icon:p.h,style:{"--fa-primary-color":"#AF2127","--fa-secondary-color":"grey"}})}],L=function(e){var t=e.selectedCategory,c=e.setAppMessage,n=e.openAddProductModal,s=e.setOpenAddProductModal,r=e.setOpenLoginModal,l=e.setProducts,u=Object(a.useState)({name:"",region:"",description:"",price:"",type:"",category:"",subCategory:"",choice:!1,visible:!0,image:""}),d=Object(o.a)(u,2),j=d[0],g=d[1],p=Object(a.useState)(!1),m=Object(o.a)(p,2),O=m[0],y=m[1],v=Object(a.useRef)(null);Object(a.useEffect)((function(){g(Object(b.a)(Object(b.a)({},j),{},{type:t.slug}))}),[t]);var C=function(e){var t={};t[e.target.name]=e.target.value,g(Object(b.a)(Object(b.a)({},j),t))},M=localStorage.getItem("token-1755");return Object(x.jsxs)(I.a,{onClose:function(){return s(!1)},onOpen:function(){return s(!0)},open:n,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(z.a,{name:"add"}),"Ajouter un Produit"]}),Object(x.jsx)(I.a.Content,{children:Object(x.jsxs)(F.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",j.name),t.append("description",j.description||""),t.append("region",j.region||""),t.append("price",j.price),t.append("type",j.type),t.append("category",j.category||""),t.append("subCategory",j.subCategory||""),t.append("choice",j.choice||!1),t.append("visible",j.visible||!0),t.append("image",j.image||""),M?(y(!0),i()({method:"post",url:"".concat(P,"/api/products/createProduct"),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+M}}).then((function(e){l(e.data.data),c({success:200===e.data.status,message:e.data.message})})).then((function(){g({name:"",region:"",description:"",price:"",type:"",category:"",subCategory:"",choice:!1,visible:!0,image:""}),s(!1)})).catch((function(e){return console.log(e)})).finally((function(){y(!1)}))):r(!0)},id:"addProduct-form",children:[Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Nom du Produit"}),Object(x.jsx)("input",{value:j.name,name:"name",type:"text",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",{value:j.description,name:"description",rows:"5",cols:"33",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"R\xe9gion"}),Object(x.jsx)("input",{value:j.region,name:"region",type:"text",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Prix"}),Object(x.jsx)("input",{min:1,step:.1,value:j.price,name:"price",type:"number",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Type de Produit"}),N.map((function(e){return e.slug&&Object(x.jsx)(w.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=j.type;t=e,g(Object(b.a)(Object(b.a)({},j),{},{type:t}))}(e.slug)},checked:j.type===e.slug},e.slug)}))]}),("vins"===j.type||"alcools"===j.type)&&Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Categorie de Produit"}),N.map((function(e){var t;return e.slug===j.type&&(null===(t=e.subCategories)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(w.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=j.category;t=e,g(Object(b.a)(Object(b.a)({},j),{},{category:t}))}(e.slug)},checked:j.category===e.slug},e.slug)})))}))]}),("rouges"===j.category||"premiums"===j.category)&&Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Sous Cat\xe9gorie de Produit"}),N.map((function(e){var t;return e.slug===j.type&&(null===(t=e.subCategories)||void 0===t?void 0:t.map((function(e){return e.slug===j.category&&e.subCat.map((function(e){return Object(x.jsx)(w.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=j.subCategory;t=e,g(Object(b.a)(Object(b.a)({},j),{},{subCategory:t}))}(e.slug)},checked:j.subCategory===e.slug},e.slug)}))})))}))]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Choix du Patron ?"}),Object(x.jsx)(w.a,{toggle:!0,checked:j.choice,onChange:function(){return g(Object(b.a)(Object(b.a)({},j),{},{choice:!j.choice}))}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("input",{ref:v,accept:"image/*",id:"addImage",files:j.image,type:"file",hidden:!0,onChange:function(e){return function(e){g(Object(b.a)(Object(b.a)({},j),{},{image:e.target.files[0]}))}(e)}}),Object(x.jsx)(h.a,{type:"button",onClick:function(){return v.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(x.jsxs)(I.a.Actions,{children:[Object(x.jsxs)(h.a,{color:"green",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(x.jsx)(z.a,{name:"add"})," Ajouter"]}),Object(x.jsxs)(h.a,{loading:O,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return s(!1)},children:[Object(x.jsx)(z.a,{name:"remove"})," Annuler"]})]})]})},E=function(e){var t=e.product,c=e.setOpenEditProductModal,n=e.openEditProductModal,s=e.setOpenLoginModal,r=e.setAppMessage,l=e.setProducts,u=(t.image,Object(g.a)(t,["image"])),d=Object(a.useState)({name:u.name,region:u.region,description:u.description,price:u.price,type:u.type,category:u.category,subCategory:u.subCategory,choice:u.choice,visible:u.visible}),j=Object(o.a)(d,2),p=j[0],m=j[1],O=Object(a.useState)(!1),y=Object(o.a)(O,2),v=y[0],C=y[1];Object(a.useEffect)((function(){m(Object(b.a)({},u))}),[t]);var M=function(e){var t={};t[e.target.name]=e.target.value,m(Object(b.a)(Object(b.a)({},p),t))},k=localStorage.getItem("token-1755");return Object(x.jsxs)(I.a,{onClose:function(){return c(!1)},onOpen:function(){return c(!0)},open:n,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(z.a,{name:"edit"}),"Editer ",u.name]}),Object(x.jsx)(I.a.Content,{children:Object(x.jsxs)(F.a,{onSubmit:function(e){e.preventDefault(),k?(C(!0),i()({method:"post",url:"".concat(P,"/api/products/updateProduct"),data:{update:p,productId:u._id},headers:{Authorization:"Bearer "+k}}).then((function(e){l(e.data.data),r({success:200===e.data.status,message:e.data.message})})).catch((function(e){return console.log(e)})).finally((function(){C(!1),c(!1)}))):(c(!1),s(!0))},id:"editProduct-form",children:[Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Nom du Produit"}),Object(x.jsx)("input",{value:p.name,name:"name",type:"text",onChange:function(e){return M(e)}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",{value:p.description,name:"description",rows:"5",cols:"33",onChange:function(e){return M(e)}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"R\xe9gion"}),Object(x.jsx)("input",{value:p.region,name:"region",type:"text",onChange:function(e){return M(e)}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Prix"}),Object(x.jsx)("input",{min:1,step:.1,value:p.price,name:"price",type:"number",onChange:function(e){return M(e)}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Type de Produit"}),N.map((function(e){return e.slug&&Object(x.jsx)(w.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var c=t.type;c=e,m(Object(b.a)(Object(b.a)({},t),{},{type:c}))}(e.slug)},checked:p.type===e.slug},e.slug)}))]}),("vins"===p.type||"alcools"===p.type)&&Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Categorie de Produit"}),N.map((function(e){var c;return e.slug===p.type&&(null===(c=e.subCategories)||void 0===c?void 0:c.map((function(e){return Object(x.jsx)(w.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var c=t.category;c=e,m(Object(b.a)(Object(b.a)({},t),{},{category:c}))}(e.slug)},checked:p.category===e.slug},e.slug)})))}))]}),("rouges"===p.category||"premiums"===p.category)&&Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Sous Cat\xe9gorie de Produit"}),N.map((function(e){var c;return e.slug===p.type&&(null===(c=e.subCategories)||void 0===c?void 0:c.map((function(e){return e.slug===p.category&&e.subCat.map((function(e){return Object(x.jsx)(w.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var c=t.subCategory;c=e,m(Object(b.a)(Object(b.a)({},t),{},{subCategory:c}))}(e.slug)},checked:p.subCategory===e.slug},e.slug)}))})))}))]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Choix du Patron ?"}),Object(x.jsx)(w.a,{toggle:!0,checked:p.choice,onChange:function(){return m(Object(b.a)(Object(b.a)({},p),{},{choice:!p.choice}))}})]})]})}),Object(x.jsxs)(I.a.Actions,{children:[Object(x.jsxs)(h.a,{color:"purple",type:"submit",form:"editProduct-form",inverted:!0,children:[Object(x.jsx)(z.a,{name:"edit"})," Editer"]}),Object(x.jsxs)(h.a,{loading:v,color:"red",type:"submit",form:"editProduct-form",inverted:!0,onClick:function(){return c(!1)},children:[Object(x.jsx)(z.a,{name:"remove"})," Annuler"]})]})]})},B=function(e){var t,c=e.openImageModal,a=e.setOpenImageModal,n=e.product,s=n.image,o=n.name,r="data:".concat(null===s||void 0===s?void 0:s.contentType,";base64,"),i=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data);return Object(x.jsxs)(I.a,{closeIcon:!0,basic:!0,open:c,onClose:function(){return a(!1)},children:[Object(x.jsx)(f.a,{children:o}),Object(x.jsx)(I.a.Content,{children:Object(x.jsx)("img",{style:{width:"100%"},src:r+i,alt:o})})]})},V=function(e){var t=e.setOpenLoginModal,c=e.openLoginModal,n=e.setUser,s=e.setAppMessage,r=Object(a.useState)(""),l=Object(o.a)(r,2),u=l[0],d=l[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),g=b[0],p=b[1],m=Object(a.useState)(!1),O=Object(o.a)(m,2),y=O[0],v=O[1];return Object(x.jsxs)(I.a,{onClose:function(){return t(!1)},onOpen:function(){return t(!0)},open:c,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(z.a,{name:"user"}),"Se Connecter"]}),Object(x.jsx)(I.a.Content,{children:Object(x.jsxs)(F.a,{onSubmit:function(e){e.preventDefault(),v(!0),i()({method:"post",url:"".concat(P,"/auth/login"),data:{email:u,password:g}}).then((function(e){n(e.data.role),s({success:200===e.data.status,message:e.data.message}),localStorage.setItem("token-1755",e.data.token),t(!1)})).catch((function(e){s({success:!1,message:"il y a eu un probl\xe9me durant la connexion"})})).finally((function(){v(!1)}))},id:"auth-form",children:[Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"E-Mail"}),Object(x.jsx)("input",{value:u,type:"email",onChange:function(e){return d(e.target.value)}})]}),Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("label",{children:"Mot de passe"}),Object(x.jsx)("input",{type:"password",value:g,onChange:function(e){return p(e.target.value)}})]})]})}),Object(x.jsx)(I.a.Actions,{children:Object(x.jsxs)(h.a,{color:"green",loading:y,type:"submit",form:"auth-form",disabled:0===u.length||0===g.length,inverted:!0,children:[Object(x.jsx)(z.a,{name:"checkmark"})," Connexion"]})})]})},_=function(e){var t,c=e.openUpdateImageModal,n=e.setOpenUpdateImageModal,s=e.product,r=e.setProducts,l=e.setOpenLoginModal,u=e.setAppMessage,d=Object(a.useState)(""),j=Object(o.a)(d,2),b=j[0],g=j[1],p=Object(a.useState)(!1),m=Object(o.a)(p,2),y=m[0],v=m[1],C=Object(a.useRef)(null),M=s._id,k=s.name,S=s.image;Object(a.useEffect)((function(){b&&function(e){var t=document.querySelector(".showimage"),c=new FileReader;t&&(c.onload=function(){t.src=c.result},c.readAsDataURL(e))}(b)}),[b]);var A=localStorage.getItem("token-1755"),w="data:".concat(null===S||void 0===S?void 0:S.contentType,";base64,"),N=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.data);return Object(x.jsxs)(I.a,{open:c,onClose:function(){return n(!1)},children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(z.a,{name:"image"}),"Editer l'image"]}),(S||b)&&Object(x.jsx)(O.a,{children:Object(x.jsx)("img",{className:"showimage",style:{width:"100%",height:"100%"},src:w+N,alt:k})}),Object(x.jsx)(I.a.Content,{children:Object(x.jsx)(F.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",b);var c=localStorage.getItem("token-1755");c?(v(!0),i()({method:"post",url:"".concat(P,"/api/products/updateProductImage/").concat(M),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+c}}).then((function(e){e&&200===e.data.status?(r(e.data.data),u({success:200===e.data.status,message:e.data.message})):u({success:200===e.data.status,message:e.data.message})})).then((function(){n(!1),g("")})).catch((function(e){return console.log(e)})).finally((function(){return v(!1)}))):(n(!1),l(!0))},id:"editImage-form",children:Object(x.jsxs)(F.a.Field,{children:[Object(x.jsx)("input",{ref:C,accept:"image/*",id:"addImage",files:b,type:"file",hidden:!0,onChange:function(e){return g(e.target.files[0])}}),Object(x.jsx)(h.a,{type:"button",onClick:function(){return C.current.click()},color:"orange",inverted:!0,children:"Modifier l'image"})]})})}),Object(x.jsxs)(I.a.Actions,{children:[b&&Object(x.jsxs)(h.a,{loading:y,disabled:y,color:"green",type:"submit",form:"editImage-form",inverted:!0,children:[Object(x.jsx)(z.a,{name:"add"})," Envoyer l'image pour ",k]}),S&&Object(x.jsxs)(h.a,{loading:y,disabled:y,type:"button",color:"red",form:"editImage-form",inverted:!0,onClick:function(){A?(v(!0),i()({method:"post",url:"".concat(P,"/api/products/updateProduct"),data:{update:{image:""},productId:M},headers:{Authorization:"Bearer "+A}}).then((function(e){r(e.data.data),u({success:200===e.data.status,message:"Image supprim\xe9e avec succ\xe9s"})})).catch((function(e){return console.log(e)})).finally((function(){v(!1),n(!1)}))):(n(!1),l(!0))},children:[Object(x.jsx)(z.a,{name:"delete"})," Supprimer l'image pour ",k]}),Object(x.jsxs)(h.a,{loading:y,disabled:y,color:"red",type:"submit",form:"editImage-form",inverted:!0,onClick:function(){return n(!1)},children:[Object(x.jsx)(z.a,{name:"remove"})," Annuler"]})]})]})},D=c(65),U=c(235),R=c(236),q=c(237),T=(c(206),function(e){var t=e.setSelectedCategory,c=e.sidebarVisible,a=e.setSidebarVisible,n=e.children;return Object(x.jsx)(U.a,{columns:1,children:Object(x.jsx)(U.a.Column,{children:Object(x.jsxs)(R.a.Pushable,{as:q.a,children:[Object(x.jsxs)(R.a,{style:{background:"#2B2B29"},as:C.a,animation:"overlay",icon:"labeled",onHide:function(){return a(!1)},vertical:!0,visible:c,width:"thin",children:[Object(x.jsx)(D.b,{to:"/",children:Object(x.jsx)(C.a.Item,{className:"categories-sidebar-item",children:Object(x.jsx)(C.a.Header,{children:Object(x.jsx)("img",{src:"/assets/images/1755small.png",alt:""})})})}),Object(x.jsx)(j.a,{}),N.map((function(e){return Object(x.jsx)(D.b,{to:"/categories/".concat(e.slug),onClick:function(){return t(e)},children:Object(x.jsxs)(C.a.Item,{className:"categories-sidebar-item",children:[Object(x.jsx)(C.a.Header,{children:e.icon}),Object(x.jsx)("span",{children:e.name})]})},e.slug)}))]}),Object(x.jsx)(R.a.Pusher,{dimmed:c,children:Object(x.jsx)(q.a,{basic:!0,children:n})})]})})})}),H=c(138),J=(c(207),function(e){var t=e.facebookUrl,c=e.instagramUrl,a=e.email,n=e.phoneNumber,s=(e.backgroundColor,e.productBackgroundColor,e.textColor,e.titleColor);return Object(x.jsxs)("div",{className:"footer",children:[Object(x.jsx)("div",{children:Object(x.jsxs)(f.a,{as:"h3",style:{color:s},children:["Retrouvez nous sur :"," "]})}),Object(x.jsxs)("div",{className:"footer__icons",children:[Object(x.jsx)("a",{target:"_blank",href:t,rel:"noreferrer",children:Object(x.jsx)(m.a,{style:{color:"#3B5998",background:"white",borderRadius:"100%"},size:"3x",icon:H.a,pull:"left"})}),Object(x.jsx)("a",{target:"_blank",href:c,rel:"noreferrer",children:Object(x.jsx)(m.a,{style:{color:"#3F729B",borderRadius:"100%"},size:"3x",icon:H.b,pull:"right"})})]}),Object(x.jsx)(j.a,{}),Object(x.jsx)("div",{children:Object(x.jsxs)(f.a,{as:"h3",style:{color:s},children:["Contactez nous !"," "]})}),Object(x.jsxs)("div",{className:"footer__icons",children:[Object(x.jsx)("a",{href:"mailto:".concat(a),children:Object(x.jsx)(m.a,{style:{"--fa-primary-color":"black","--fa-secondary-color":"white","--fa-secondary-opacity":.8},size:"3x",icon:p.d,pull:"left"})}),Object(x.jsx)("a",{href:"tel:".concat(n),children:Object(x.jsx)(m.a,{style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"black","--fa-primary-opacity":1,"--fa-secondary-opacity":1},size:"3x",icon:p.k,pull:"right"})})]}),Object(x.jsx)(j.a,{}),Object(x.jsxs)("div",{className:"footer__copyright",style:{color:"white"},children:["Copyright \xa9 ",Object(x.jsx)("a",{style:{color:"white"},href:"https://baravin1755.com",children:Object(x.jsx)("span",{children:"Le 1755 \xa0"})}),Object(x.jsx)("span",{children:" ".concat((new Date).getFullYear(),". ")})]}),Object(x.jsx)("div",{className:"footer__alvp",children:Object(x.jsxs)("a",{style:{color:"white",fontSize:"1em"},href:"mailto:pef@alvp-developments.com",children:["Made with",Object(x.jsx)(m.a,{className:"alvp__icon",color:"darkred",icon:p.i,size:"2x"}),"by ALVP-Developments Ajaccio"]})})]})}),G=(c(208),function(e){var t=e.setSidebarVisible,c=e.setOpenLoginModal,a=e.user;return Object(x.jsxs)("div",{className:"topappbar",children:[Object(x.jsx)(D.b,{to:"/",children:Object(x.jsx)("div",{className:"topappbar-image",children:Object(x.jsx)("img",{src:"/assets/images/1755small.png",alt:"logo 1755"})})}),Object(x.jsxs)("div",{className:"topappbar-icons",children:[Object(x.jsx)(h.a,{icon:!0,circular:!0,color:a?"green":"grey",onClick:function(){return c(!0)},children:Object(x.jsx)(m.a,{size:"3x",icon:p.n})}),Object(x.jsx)(h.a,{icon:!0,circular:!0,onClick:function(){return t(!0)},children:Object(x.jsx)(m.a,{size:"3x",icon:p.a})})]})]})}),W=(c(209),function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)({}),r=Object(o.a)(s,2),b=r[0],g=r[1],p=Object(a.useState)(""),m=Object(o.a)(p,2),O=m[0],h=m[1],f=Object(a.useState)(!1),y=Object(o.a)(f,2),v=y[0],C=y[1],M=Object(a.useState)(!1),k=Object(o.a)(M,2),I=k[0],z=k[1],F=Object(a.useState)(!1),w=Object(o.a)(F,2),N=w[0],D=w[1],U=Object(a.useState)(!1),R=Object(o.a)(U,2),q=R[0],H=R[1],W=Object(a.useState)(!1),Y=Object(o.a)(W,2),K=Y[0],Q=Y[1],X=Object(a.useState)({}),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)([]),ce=Object(o.a)(te,2),ae=ce[0],ne=ce[1],se=Object(a.useState)({}),oe=Object(o.a)(se,2),re=oe[0],ie=oe[1];return Object(a.useEffect)((function(){0!==Object.keys(re).length&&setTimeout((function(){ie({})}),5e3)}),[re]),Object(a.useEffect)((function(){i.a.get("".concat(P,"/api/products/allProducts")).then((function(e){e&&ne(e.data.data)}))}),[]),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(u.a,{animation:"jiggle",duration:500,visible:Object.keys(re).length>0,children:Object(x.jsx)(d.a,{style:{position:"fixed",top:15,zIndex:"1000",width:"100%"},hidden:0===Object.keys(re).length,success:!!re.success,error:!re.success,children:re.message})}),Object(x.jsxs)(T,{sidebarVisible:c,setSidebarVisible:n,setSelectedCategory:g,children:[Object(x.jsx)(G,{user:O,setSidebarVisible:n,setOpenLoginModal:C}),Object(x.jsx)(j.a,{hidden:!0}),Object(x.jsx)(V,{setUser:h,openLoginModal:v,setOpenLoginModal:C,setAppMessage:ie}),Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{exact:!0,path:"/",children:Object(x.jsx)(A,{})}),Object(x.jsxs)(l.a,{path:"/categories/:categorie",children:[Object(x.jsx)(L,{setProducts:ne,selectedCategory:b,setOpenLoginModal:C,setAppMessage:ie,openAddProductModal:I,setOpenAddProductModal:z}),Object(x.jsx)(E,{product:$,setOpenEditProductModal:D,setAppMessage:ie,setOpenLoginModal:C,openEditProductModal:N,setProducts:ne}),Object(x.jsx)(_,{openUpdateImageModal:K,setOpenUpdateImageModal:Q,setProducts:ne,product:$,setOpenLoginModal:C,setAppMessage:ie}),Object(x.jsx)(B,{openImageModal:q,setOpenImageModal:H,product:$}),Object(x.jsx)(S,{user:O,selectedCategory:b,products:ae,setProducts:ne,setOpenLoginModal:C,setOpenAddProductModal:z,setOpenImageModal:H,setOpenUpdateImageModal:Q,setOpenEditProductModal:D,setSelectedProduct:ee})]})]}),Object(x.jsx)(j.a,{}),Object(x.jsx)(J,{})]})]})}),Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,239)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),a(e),n(e),s(e),o(e)}))};c(210);s.a.render(Object(x.jsx)(D.a,{basename:"/",children:Object(x.jsx)(W,{})}),document.getElementById("root")),Y()}},[[211,1,2]]]);
//# sourceMappingURL=main.7fd03811.chunk.js.map